<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="theme-color" content="#ff6b35">
  <meta http-equiv="Content-Security-Policy" content="default-src * 'unsafe-inline' 'unsafe-eval'; script-src * 'unsafe-inline' 'unsafe-eval'; connect-src * 'unsafe-inline'; img-src * data: blob: 'unsafe-inline'; frame-src *; style-src * 'unsafe-inline';">
  <title>Productos - El Fogón</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

<!-- HEADER -->
<header class="product-header">
  <button class="back-btn" onclick="window.location.href='/'">
    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
      <path d="M19 12H5M12 19l-7-7 7-7"/>
    </svg>
  </button>
  <h1 id="categoryTitle">Productos</h1>
  <button class="icon-btn" id="btnAdmin">
    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
      <circle cx="12" cy="12" r="3"/>
      <path d="M12 1v6m0 6v6"/>
    </svg>
  </button>
</header>

<!-- FILTROS -->
<div class="filters-container" id="filtros">
  <!-- Generado por JS -->
</div>

<!-- PRODUCTOS -->
<main class="products-main">
  <div id="productosContainer" class="products-grid">
    <p class="loading">Cargando productos...</p>
  </div>
</main>

<!-- CARRITO FLOTANTE -->
<button id="carritoFlotante" class="cart-float" style="display:none;">
  <div class="cart-info">
    <span class="cart-count" id="cantidadCarrito">0</span>
    <span class="cart-text">Ver carrito</span>
  </div>
  <span class="cart-price" id="totalCarritoFloat">0,00 €</span>
</button>

<!-- BOTTOM SHEET CARRITO -->
<div id="carritoSheet" class="bottom-sheet">
  <div class="sheet-overlay"></div>
  <div class="sheet-content">
    <div class="sheet-handle"></div>
    <h2>Tu pedido</h2>
    <ul id="carritoItems" class="cart-items"></ul>
    <div class="cart-total">
      <span>Total</span>
      <span id="totalCarrito" class="total-price">0,00 €</span>
    </div>
    <button id="finalizarPedido" class="btn-primary">Realizar pedido</button>
  </div>
</div>

<!-- MODAL UPSELL -->
<div id="upsellModal" class="modal">
  <div class="modal-content upsell-modal-content">
    <h3>¿Algo más?</h3>
    <p class="modal-subtitle">Completa tu pedido</p>
    <div id="upsellProductos" class="upsell-grid"></div>
    <div class="modal-buttons">
      <button id="saltarUpsell" class="btn-secondary">Saltar</button>
      <button id="continuarUpsell" class="btn-primary">Continuar →</button>
    </div>
  </div>
</div>

<!-- MODAL PEDIDO -->
<div id="pedidoModal" class="modal">
  <div class="modal-content">
    <h3>Confirmar pedido</h3>
    <label>Comentarios sobre alérgenos</label>
    <textarea id="alergenos" placeholder="Opcional"></textarea>
    <label>Comentarios del pedido</label>
    <textarea id="comentarioPedido" placeholder="Opcional"></textarea>
    <label>Dirección de entrega *</label>
    <input type="text" id="direccionEntrega" placeholder="C/ Principal, 123" required>
    <label>Teléfono de contacto *</label>
    <input type="tel" id="telefonoContacto" placeholder="600 123 456" required>
    <div class="modal-buttons">
      <button id="cancelarPedido" class="btn-secondary">Cancelar</button>
      <button id="confirmarPedido" class="btn-primary">Confirmar pedido</button>
    </div>
  </div>
</div>

<script src="haptic.js"></script>
<script src="pull-to-refresh.js"></script>
<script src="transitions.js"></script>
<script src="install-prompt.js"></script>
<script src="swipe-back.js"></script>
<script src="carta.js"></script>

</body>
</html>

